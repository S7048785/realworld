# 导航菜单悬浮动画实现

## 效果展示

导航菜单在鼠标悬浮时：

1. 菜单文字向上微移 6px
2. 文字颜色变为主题色
3. 文字产生发光效果（text-shadow）
4. 底部出现渐变色下划线，从中间向两侧展开

## 代码实现

### HTML 结构 (`NavBar.tsx:59-72`)

```tsx
{
	navList.map((item, index) => (
			<NavLink
					key={index}
					to={item.path}
					className="px-8 py-2 navitem overflow-hidden group"
			>
				<div className="relative bg-transparent text-shadow-sm text-center transition-all">
					<motion.span
							initial={{y: -40}}
							animate={{y: 0}}
							transition={{delay: index * 0.05, duration: 0.2}}
							className="group-hover:translate-y-[-6px] group-hover:text-primary"
					>
						{item.name}
					</motion.span>
					<div className="bottom-line absolute left-0 right-0 mx-auto bottom-0 h-0.5"/>
				</div>
			</NavLink>
	))
}
```

### CSS 样式 (`navbar.css`)

```css
.navitem {
	/* 下划线初始状态 */

	.bottom-line {
		width: 0;
		background: linear-gradient(90deg, var(--chart-5), var(--primary), var(--chart-5));
		transition: width 0.2s ease-in-out;
	}

	/* 文字悬浮效果 */

	span {
		display: block;
		transition: all 0.2s ease-in-out;
		transition-delay: 0.1s; /* 延迟执行 */
	}

	/* 悬浮时：发光效果 */

	&:hover {
		div {
			text-shadow: 0 0 10px var(--sidebar-primary);
		}

		/* 下划线展开 */

		.bottom-line {
			width: 100%;
		}
	}
}
```

---

## 动画分解

### 1. 文字上移动画

```tsx
className = "group-hover:translate-y-[-6px]"
```

使用 Tailwind 的 `group-hover` 实现悬浮时文字上移。

### 2. 颜色变化

```tsx
className = "group-hover:text-primary"
```

悬浮时文字颜色变为主题色。

### 3. 底部下划线动画

```css
.bottom-line {
	width: 0; /* 初始宽度为 0 */
	transition: width 0.2s ease-in-out;
}

.navitem:hover .bottom-line {
	width: 100%; /* 悬浮时宽度为 100% */
}

.bottom-line {
	/* 渐变色下划线 */
	background: linear-gradient(90deg, var(--chart-5), var(--primary), var(--chart-5));
}
```

**下划线居中技巧**：

```tsx
<div className="bottom-line absolute left-0 right-0 mx-auto bottom-0 h-0.5"/>
```

- `absolute` - 绝对定位
- `left-0 right-0` - 左右拉伸到最大
- `mx-auto` - 但由于左右都是 0，实际上是居中的

### 4. 文字发光效果

```css
.navitem:hover div {
	text-shadow: 0 0 10px var(--sidebar-primary);
}
```

---

## 动画流程图

```
鼠标进入导航项
      │
      ▼
┌─────────────────────────────────┐
│  0ms                            │
│  - 文字位置正常                 │
│  - 颜色：默认色                 │
│  - 下划线宽度：0                │
│  - 发光：无                     │
└─────────────────────────────────┘
      │
      ▼
┌─────────────────────────────────┐
│  100ms (延迟后)                 │
│  - 文字上移 6px                 │
│  - 颜色：主题色                 │
│  - 发光效果开启                 │
└─────────────────────────────────┘
      │
      ▼
┌─────────────────────────────────┐
│  200ms                          │
│  - 下划线展开到 100%            │
└─────────────────────────────────┘
```

---

## 动画时间线

| 时间      | 效果             |
|---------|----------------|
| 0ms     | 鼠标进入           |
| 0-100ms | 延迟等待           |
| 100ms   | 文字上移 + 变色 + 发光 |
| 200ms   | 下划线完全展开        |

使用 `transition-delay: 0.1s` 让文字效果先执行，下划线后执行，产生层次感。

---

## 入口动画（首次加载）

```tsx
<motion.span
		initial={{y: -40}}
		animate={{y: 0}}
		transition={{delay: index * 0.05, duration: 0.2}}
		className="..."
>
	{item.name}
</motion.span>
```

- **initial**: 从上方 40px 开始
- **animate**: 滑入到正常位置
- **delay**: 每个菜单项延迟 0.05s，形成依次出现的动画效果

---

## 扩展：不同的下划线动画

### 居中展开

```css
.bottom-line {
	left: 50%;
	width: 0;
	transform: translateX(-50%);
	transition: width 0.3s ease-in-out;
}

.navitem:hover .bottom-line {
	width: 60%;
}
```

### 左到右展开

```css
.bottom-line {
	left: 0;
	width: 0;
	transition: width 0.3s ease-in-out;
}

.navitem:hover .bottom-line {
	width: 100%;
}
```

### 波浪效果

```css
.bottom-line {
	background: linear-gradient(90deg, var(--primary), var(--secondary), var(--primary));
	background-size: 200% 100%;
	width: 100%;
	opacity: 0;
	transition: opacity 0.3s ease-in-out;
}

.navitem:hover .bottom-line {
	opacity: 1;
	animation: shimmer 1s infinite;
}

@keyframes shimmer {
	0% {
		background-position: 200% 0;
	}
	100% {
		background-position: -200% 0;
	}
}
```

---

## 优点

| 特性      | 说明                                |
|---------|-----------------------------------|
| **层次感** | 通过 transition-delay 产生动画先后顺序      |
| **高性能** | 使用 CSS transition，非 JavaScript 动画 |
| **可复用** | 通过 class 封装，任何导航项都可使用             |
| **主题化** | 使用 CSS 变量，支持深色/浅色主题               |
